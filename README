名古屋市交通局の市バス時刻表をNextTrain形式に変換するスクリプトです。

変換したい系統のバス停の時刻表URLを引数として実行すると、変換された時刻表が表示されます。

実行例
ruby1.9 nbus2ntrain.rb "http://kotsuk.city.nagoya.jp/bus.cgi?f_kb=02&revision_kb=1&from=%82%B3&from_cd=21010015&line_cd=0002&line_kb=00&direction_cd=01"

出力例
-------------------------------------------------------------------
;停留所名: 栄〔３番のりば（オアシス21）〕
;系統: 基幹２
;行き先: 引山(茶屋ケ坂経由)ゆき/四軒家(茶屋ケ坂経由)ゆき/引山ゆき/四軒家ゆき
a:引山(茶屋ケ坂経由)ゆき
b:四軒家(茶屋ケ坂経由)ゆき
c:引山ゆき
d:四軒家ゆき
[MON][TUE][WED][THU][FRI]
06:a00 a20 a38 a53
07:a00 a05 a10 a15 a20 a25 a30 a35 a39 a44 a49 a54 a59
08:a04 a09 a14 a18 b22 a26 a30 a34 a38 b42 a46 a50 a55
09:a00 d05 a10 a15 a20 b25 a30 b36 c44 a52
10:d00 b10 b20 d30 a40 a50
11:b00 a10 c20 a30 a40 a50
12:c00 b10 b20 a30 a40 c50
13:c00 a10 a20 a30 d40 a50
14:c00 a10 a20 a30 a40 a50
15:c00 a10 a20 a30 a40 a50
16:a00 c08 c16 a24 c32 b40 a46 a52 a57
17:c02 a07 a12 b17 a22 a27 c32 a37 a42 a47 a52 c57
18:b02 a07 c12 a17 a22 a27 c32 c37 a42 d47 b53
19:a01 b09 c17 a25 b33 a41 a50
20:b00 b10 a20 d30 a40 d50
21:c00 c12 b24 a37 d50
22:c04 a19 d34 c49
23:b10 d30
[SAT]
06:a00 a20 a38 a53
07:a05 a15 a25 a34 a41 a47 a53 a59
08:a05 a11 b17 a24 a30 a36 a42 a50
09:a00 c10 a20 c30 a40 a50
10:d00 c10 a20 b30 a40 c50
11:a00 a10 a20 c30 d40 a50
12:c00 d10 a20 a30 b40 b50
13:a00 c10 a20 a30 c40 a50
14:d00 c10 a20 c30 a40 c50
15:b00 a10 a20 a30 c40 a50
16:a00 c10 c20 d30 a40 a50
17:a00 a10 a20 a28 a36 c44 a52
18:a00 c08 c16 d24 a32 a40 b50
19:a00 a10 a20 c30 b40 d50
20:c00 a15 d30 a45
21:a00 a15 a30 d45
22:c00 a15 a30 a50
23:b10 d30
[SUN][HOL]
06:a00 a20 a38 a53
07:a05 a15 a25 a34 a41 a47 a53 a59
08:a05 a11 b17 a24 a30 a36 a42 a50
09:a00 c10 a20 c30 a40 a50
10:d00 c10 a20 b30 a40 c50
11:a00 a10 a20 c30 d40 a50
12:c00 d10 a20 a30 b40 b50
13:a00 c10 a20 a30 c40 a50
14:d00 c10 a20 c30 a40 c50
15:b00 a10 a20 a30 c40 a50
16:a00 c10 c20 d30 a40 a50
17:a00 a10 a20 a28 a36 c44 a52
18:a00 c08 c16 d24 a32 a40 b50
19:a00 a10 a20 c30 b40 d50
20:c00 a15 d30 a45
21:a00 a15 a30 d45
22:c00 a15 a30 a50
23:b10 d30
-------------------------------------------------------------------

時刻表｜市バス｜名古屋市交通局
http://www.kotsu.city.nagoya.jp/bus/sub_timetable/index.html

